{"ast":null,"code":"var _jsxFileName = \"/Volumes/Dev Abyss/Project/Echoes Of Time/frontend/src/components/pages/AlbumPage.js\",\n  _s = $RefreshSig$();\nimport { Grid } from \"@mui/material\";\nimport { useState, Fragment } from \"react\";\nimport AlbumAddPlaceholder from \"../placeholder/AlbumAddPlaceholder\";\nimport axios from \"axios\";\nimport AlbumGrid from \"../album/AlbumGrid\";\nimport AlbumForm from \"../album/AlbumForm\";\nimport AlbumDelete from \"../album/AlbumDelete\";\nimport AlertSnackbar from \"../alert/AlertSnackbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ADD_OPERATION = 1;\nconst ALBUM_URL = \"http://localhost:9191/api/v1/album\";\nexport default function AlbumPage(_ref) {\n  _s();\n  let {\n    albums,\n    reload\n  } = _ref;\n  // album form\n  const [formOpen, setFormOpen] = useState(false);\n  const [formOperation, setFormOperation] = useState(ADD_OPERATION);\n\n  // edit and delete\n  const [albumToEdit, setAlbumToEdit] = useState(null);\n  const [albumToDelete, setAlbumToDelete] = useState(null);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\n  // alert message\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertSeverity, setAlertSeverity] = useState(\"success\");\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const onAlertClose = () => {\n    setAlertOpen(false);\n  };\n  const onChangeAlbumToDelete = album => {\n    setAlbumToDelete(album);\n    setDeleteDialogOpen(true);\n  };\n  const closeDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n  };\n  const openForm = (operation, album) => {\n    setFormOpen(true);\n    setFormOperation(operation);\n    setAlbumToEdit(album);\n  };\n  const closeForm = () => {\n    setFormOpen(false);\n  };\n  const addAlbum = album => {\n    axios.post(`${ALBUM_URL}/add`, album).then(response => {}).catch(error => {\n      console.log(\"error: \" + error);\n    });\n    openAlert(\"success\", `Album ${album.title} is added!`);\n    reload();\n  };\n  const updateAlbum = (id, album) => {\n    axios.put(`${ALBUM_URL}/update/${id}`, album).then(response => {}).catch(error => {\n      console.log(\"error: \" + error);\n    });\n    openAlert(\"success\", `Album ${album.title} is updated!`);\n    reload();\n  };\n  const deleteAlbum = () => {\n    axios.post(`${ALBUM_URL}/delete/${albumToDelete.id}`).then(response => {}).catch(error => {\n      console.log(\"error: \" + error);\n    });\n    openAlert(\"success\", `Album ${albumToDelete.title} is deleted!`);\n    closeDeleteDialog();\n    reload();\n  };\n  const openAlert = (severity, message) => {\n    setAlertSeverity(severity);\n    setAlertMessage(message);\n    setAlertOpen(true);\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 5,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(AlbumAddPlaceholder, {\n          openFormHandler: openForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlbumGrid, {\n        albums: albums,\n        openFormHandler: openForm,\n        onChangeAlbumToDeleteHandler: onChangeAlbumToDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlbumForm, {\n      open: formOpen,\n      operation: formOperation,\n      handleClose: closeForm,\n      addAlbumHandler: addAlbum,\n      updateAlbumHandler: updateAlbum,\n      albumToEdit: albumToEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlbumDelete, {\n      album: albumToDelete,\n      open: deleteDialogOpen,\n      closeHandler: closeDeleteDialog,\n      deleteHandler: deleteAlbum\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlertSnackbar, {\n      open: alertOpen,\n      severity: alertSeverity,\n      onClose: onAlertClose,\n      message: alertMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s(AlbumPage, \"9IVm3Zu8F2FuoWnlcuDg+NWcGwQ=\");\n_c = AlbumPage;\nvar _c;\n$RefreshReg$(_c, \"AlbumPage\");","map":{"version":3,"names":["Grid","useState","Fragment","AlbumAddPlaceholder","axios","AlbumGrid","AlbumForm","AlbumDelete","AlertSnackbar","jsxDEV","_jsxDEV","ADD_OPERATION","ALBUM_URL","AlbumPage","_ref","_s","albums","reload","formOpen","setFormOpen","formOperation","setFormOperation","albumToEdit","setAlbumToEdit","albumToDelete","setAlbumToDelete","deleteDialogOpen","setDeleteDialogOpen","alertOpen","setAlertOpen","alertSeverity","setAlertSeverity","alertMessage","setAlertMessage","onAlertClose","onChangeAlbumToDelete","album","closeDeleteDialog","openForm","operation","closeForm","addAlbum","post","then","response","catch","error","console","log","openAlert","title","updateAlbum","id","put","deleteAlbum","severity","message","children","container","spacing","item","openFormHandler","fileName","_jsxFileName","lineNumber","columnNumber","onChangeAlbumToDeleteHandler","open","handleClose","addAlbumHandler","updateAlbumHandler","closeHandler","deleteHandler","onClose","_c","$RefreshReg$"],"sources":["/Volumes/Dev Abyss/Project/Echoes Of Time/frontend/src/components/pages/AlbumPage.js"],"sourcesContent":["import { Grid } from \"@mui/material\";\nimport { useState, Fragment } from \"react\";\nimport AlbumAddPlaceholder from \"../placeholder/AlbumAddPlaceholder\";\nimport axios from \"axios\";\nimport AlbumGrid from \"../album/AlbumGrid\";\nimport AlbumForm from \"../album/AlbumForm\";\nimport AlbumDelete from \"../album/AlbumDelete\";\nimport AlertSnackbar from \"../alert/AlertSnackbar\";\n\nconst ADD_OPERATION = 1;\nconst ALBUM_URL = \"http://localhost:9191/api/v1/album\";\n\nexport default function AlbumPage({ albums, reload }) {\n  \n  // album form\n  const [formOpen, setFormOpen] = useState(false);\n  const [formOperation, setFormOperation] = useState(ADD_OPERATION);\n  \n  // edit and delete\n  const [albumToEdit, setAlbumToEdit] = useState(null);\n  const [albumToDelete, setAlbumToDelete] = useState(null);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\n  // alert message\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertSeverity, setAlertSeverity] = useState(\"success\");\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  const onAlertClose = () => {\n    setAlertOpen(false);\n  }\n\n  const onChangeAlbumToDelete = (album) => {\n    setAlbumToDelete(album);\n    setDeleteDialogOpen(true);\n  };\n\n  const closeDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n  };\n\n  const openForm = (operation, album) => {\n    setFormOpen(true);\n    setFormOperation(operation);\n    setAlbumToEdit(album);\n  };\n\n  const closeForm = () => {\n    setFormOpen(false);\n  };\n\n  const addAlbum = (album) => {\n    axios\n      .post(`${ALBUM_URL}/add`, album)\n      .then((response) => {})\n      .catch((error) => {\n        console.log(\"error: \" + error);\n      });\n\n    openAlert(\"success\", `Album ${album.title} is added!`);\n    reload();\n  };\n\n  const updateAlbum = (id, album) => {\n    axios\n      .put(`${ALBUM_URL}/update/${id}`, album)\n      .then((response) => {})\n      .catch((error) => {\n        console.log(\"error: \" + error);\n      });\n\n    openAlert(\"success\", `Album ${album.title} is updated!`);\n    reload();\n  };\n\n  const deleteAlbum = () => {\n    axios\n      .post(`${ALBUM_URL}/delete/${albumToDelete.id}`)\n      .then((response) => {})\n      .catch((error) => {\n        console.log(\"error: \" + error);\n      });\n\n    openAlert(\"success\", `Album ${albumToDelete.title} is deleted!`);\n    closeDeleteDialog();\n    reload();\n  };\n\n  const openAlert = (severity, message) => {\n    setAlertSeverity(severity);\n    setAlertMessage(message);\n    setAlertOpen(true);\n  }\n\n  return (\n    <Fragment>\n      <Grid container spacing={5}>\n        <Grid item>\n          <AlbumAddPlaceholder openFormHandler={openForm} />\n        </Grid>\n        <AlbumGrid\n          albums={albums}\n          openFormHandler={openForm}\n          onChangeAlbumToDeleteHandler={onChangeAlbumToDelete}\n        />\n      </Grid>\n      <AlbumForm\n        open={formOpen}\n        operation={formOperation}\n        handleClose={closeForm}\n        addAlbumHandler={addAlbum}\n        updateAlbumHandler={updateAlbum}\n        albumToEdit={albumToEdit}\n      />\n      <AlbumDelete\n        album={albumToDelete}\n        open={deleteDialogOpen}\n        closeHandler={closeDeleteDialog}\n        deleteHandler={deleteAlbum}\n      />\n      <AlertSnackbar\n        open={alertOpen}\n        severity={alertSeverity}\n        onClose={onAlertClose}\n        message={alertMessage}\n      />\n    </Fragment>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
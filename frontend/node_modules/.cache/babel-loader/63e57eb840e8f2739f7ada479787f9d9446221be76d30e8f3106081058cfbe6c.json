{"ast":null,"code":"import _slicedToArray from\"/Volumes/Dev Abyss/Project/Echoes Of Time/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Grid}from\"@mui/material\";import{useState,Fragment}from\"react\";import AlbumAddPlaceholder from\"../placeholder/AlbumAddPlaceholder\";import axios from\"axios\";import AlbumGrid from\"../album/AlbumGrid\";import AlbumForm from\"../album/AlbumForm\";import AlbumDelete from\"../album/AlbumDelete\";import AlertSnackbar from\"../alert/AlertSnackbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ADD_OPERATION=1;var ALBUM_URL=\"http://localhost:9191/api/v1/album\";export default function AlbumPage(_ref){var albums=_ref.albums,reload=_ref.reload;// album form\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),formOpen=_useState2[0],setFormOpen=_useState2[1];var _useState3=useState(ADD_OPERATION),_useState4=_slicedToArray(_useState3,2),formOperation=_useState4[0],setFormOperation=_useState4[1];// edit and delete\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),albumToEdit=_useState6[0],setAlbumToEdit=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),albumToDelete=_useState8[0],setAlbumToDelete=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),deleteDialogOpen=_useState10[0],setDeleteDialogOpen=_useState10[1];// alert message\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),alertOpen=_useState12[0],setAlertOpen=_useState12[1];var _useState13=useState(\"success\"),_useState14=_slicedToArray(_useState13,2),alertSeverity=_useState14[0],setAlertSeverity=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),alertMessage=_useState16[0],setAlertMessage=_useState16[1];var onAlertClose=function onAlertClose(){setAlertOpen(false);};var onChangeAlbumToDelete=function onChangeAlbumToDelete(album){setAlbumToDelete(album);setDeleteDialogOpen(true);};var closeDeleteDialog=function closeDeleteDialog(){setDeleteDialogOpen(false);};var openForm=function openForm(operation,album){setFormOpen(true);setFormOperation(operation);setAlbumToEdit(album);};var closeForm=function closeForm(){setFormOpen(false);};var addAlbum=function addAlbum(album){axios.post(\"\".concat(ALBUM_URL,\"/add\"),album).then(function(response){}).catch(function(error){console.log(\"error: \"+error);});openAlert(\"success\",\"Album \".concat(album.title,\" is added!\"));reload();};var updateAlbum=function updateAlbum(id,album){axios.put(\"\".concat(ALBUM_URL,\"/update/\").concat(id),album).then(function(response){}).catch(function(error){console.log(\"error: \"+error);});openAlert(\"success\",\"Album \".concat(album.title,\" is updated!\"));reload();};var deleteAlbum=function deleteAlbum(){axios.post(\"\".concat(ALBUM_URL,\"/delete/\").concat(albumToDelete.id)).then(function(response){}).catch(function(error){console.log(\"error: \"+error);});openAlert(\"success\",\"Album \".concat(albumToDelete.title,\" is deleted!\"));closeDeleteDialog();reload();};var openAlert=function openAlert(severity,message){setAlertSeverity(severity);setAlertMessage(message);setAlertOpen(true);};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:5,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(AlbumAddPlaceholder,{openFormHandler:openForm})}),/*#__PURE__*/_jsx(AlbumGrid,{albums:albums,openFormHandler:openForm,onChangeAlbumToDeleteHandler:onChangeAlbumToDelete})]}),/*#__PURE__*/_jsx(AlbumForm,{open:formOpen,operation:formOperation,handleClose:closeForm,addAlbumHandler:addAlbum,updateAlbumHandler:updateAlbum,albumToEdit:albumToEdit}),/*#__PURE__*/_jsx(AlbumDelete,{album:albumToDelete,open:deleteDialogOpen,closeHandler:closeDeleteDialog,deleteHandler:deleteAlbum}),/*#__PURE__*/_jsx(AlertSnackbar,{open:alertOpen,severity:alertSeverity,onClose:onAlertClose,message:alertMessage})]});}","map":{"version":3,"names":["Grid","useState","Fragment","AlbumAddPlaceholder","axios","AlbumGrid","AlbumForm","AlbumDelete","AlertSnackbar","jsx","_jsx","jsxs","_jsxs","ADD_OPERATION","ALBUM_URL","AlbumPage","_ref","albums","reload","_useState","_useState2","_slicedToArray","formOpen","setFormOpen","_useState3","_useState4","formOperation","setFormOperation","_useState5","_useState6","albumToEdit","setAlbumToEdit","_useState7","_useState8","albumToDelete","setAlbumToDelete","_useState9","_useState10","deleteDialogOpen","setDeleteDialogOpen","_useState11","_useState12","alertOpen","setAlertOpen","_useState13","_useState14","alertSeverity","setAlertSeverity","_useState15","_useState16","alertMessage","setAlertMessage","onAlertClose","onChangeAlbumToDelete","album","closeDeleteDialog","openForm","operation","closeForm","addAlbum","post","concat","then","response","catch","error","console","log","openAlert","title","updateAlbum","id","put","deleteAlbum","severity","message","children","container","spacing","item","openFormHandler","onChangeAlbumToDeleteHandler","open","handleClose","addAlbumHandler","updateAlbumHandler","closeHandler","deleteHandler","onClose"],"sources":["/Volumes/Dev Abyss/Project/Echoes Of Time/frontend/src/components/pages/AlbumPage.js"],"sourcesContent":["import { Grid } from \"@mui/material\";\nimport { useState, Fragment } from \"react\";\nimport AlbumAddPlaceholder from \"../placeholder/AlbumAddPlaceholder\";\nimport axios from \"axios\";\nimport AlbumGrid from \"../album/AlbumGrid\";\nimport AlbumForm from \"../album/AlbumForm\";\nimport AlbumDelete from \"../album/AlbumDelete\";\nimport AlertSnackbar from \"../alert/AlertSnackbar\";\n\nconst ADD_OPERATION = 1;\nconst ALBUM_URL = \"http://localhost:9191/api/v1/album\";\n\nexport default function AlbumPage({ albums, reload }) {\n  \n  // album form\n  const [formOpen, setFormOpen] = useState(false);\n  const [formOperation, setFormOperation] = useState(ADD_OPERATION);\n  \n  // edit and delete\n  const [albumToEdit, setAlbumToEdit] = useState(null);\n  const [albumToDelete, setAlbumToDelete] = useState(null);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\n  // alert message\n  const [alertOpen, setAlertOpen] = useState(false);\n  const [alertSeverity, setAlertSeverity] = useState(\"success\");\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  const onAlertClose = () => {\n    setAlertOpen(false);\n  }\n\n  const onChangeAlbumToDelete = (album) => {\n    setAlbumToDelete(album);\n    setDeleteDialogOpen(true);\n  };\n\n  const closeDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n  };\n\n  const openForm = (operation, album) => {\n    setFormOpen(true);\n    setFormOperation(operation);\n    setAlbumToEdit(album);\n  };\n\n  const closeForm = () => {\n    setFormOpen(false);\n  };\n\n  const addAlbum = (album) => {\n    axios\n      .post(`${ALBUM_URL}/add`, album)\n      .then((response) => {})\n      .catch((error) => {\n        console.log(\"error: \" + error);\n      });\n\n    openAlert(\"success\", `Album ${album.title} is added!`);\n    reload();\n  };\n\n  const updateAlbum = (id, album) => {\n    axios\n      .put(`${ALBUM_URL}/update/${id}`, album)\n      .then((response) => {})\n      .catch((error) => {\n        console.log(\"error: \" + error);\n      });\n\n    openAlert(\"success\", `Album ${album.title} is updated!`);\n    reload();\n  };\n\n  const deleteAlbum = () => {\n    axios\n      .post(`${ALBUM_URL}/delete/${albumToDelete.id}`)\n      .then((response) => {})\n      .catch((error) => {\n        console.log(\"error: \" + error);\n      });\n\n    openAlert(\"success\", `Album ${albumToDelete.title} is deleted!`);\n    closeDeleteDialog();\n    reload();\n  };\n\n  const openAlert = (severity, message) => {\n    setAlertSeverity(severity);\n    setAlertMessage(message);\n    setAlertOpen(true);\n  }\n\n  return (\n    <Fragment>\n      <Grid container spacing={5}>\n        <Grid item>\n          <AlbumAddPlaceholder openFormHandler={openForm} />\n        </Grid>\n        <AlbumGrid\n          albums={albums}\n          openFormHandler={openForm}\n          onChangeAlbumToDeleteHandler={onChangeAlbumToDelete}\n        />\n      </Grid>\n      <AlbumForm\n        open={formOpen}\n        operation={formOperation}\n        handleClose={closeForm}\n        addAlbumHandler={addAlbum}\n        updateAlbumHandler={updateAlbum}\n        albumToEdit={albumToEdit}\n      />\n      <AlbumDelete\n        album={albumToDelete}\n        open={deleteDialogOpen}\n        closeHandler={closeDeleteDialog}\n        deleteHandler={deleteAlbum}\n      />\n      <AlertSnackbar\n        open={alertOpen}\n        severity={alertSeverity}\n        onClose={onAlertClose}\n        message={alertMessage}\n      />\n    </Fragment>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}